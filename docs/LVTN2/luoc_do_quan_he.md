LƯỢC ĐỒ QUAN HỆ CŨ:
Account(id, userId, type, provider, providerAccountId, refresh_token, access_token, expires_at, token_type, scope, id_token, session_state)
User(id, name, email, emailVerified, phoneNumber, image, hashedPassword, createAt, updateAt, lastLogin, role, resetPasswordToken, resetPasswordExpires, purchasedCategories, chatRoomIds, seenMessageIds)

LƯỢC ĐỒ QUAN HỆ MỚI:

Account(id, userId, type, provider, providerAccountId, refresh_token, access_token, expires_at, token_type, scope, id_token, session_state)
User(id, name, email, emailVerified, phoneNumber, image, hashedPassword, createAt, updateAt, lastLogin, role, resetPasswordToken, resetPasswordExpires, emailVerificationToken, emailVerificationExpires, purchasedCategories, emailMarketingEnabled, lastEmailSent, emailFrequency, favoriteProductIds, isBlocked, blockedAt, blockedBy, blockReason, chatRoomIds, seenMessageIds)
Product(id, name, description, brand, productType, price, categoryId, inStock, priority, createdAt, updatedAt, isDeleted, deletedAt, deletedBy, thumbnail, galleryImages)
Category(id, name, slug, image, icon, description, createdAt, updatedAt, parentId)
ProductAttribute(id, productId, name, label, type, displayType, isRequired, isVariation, position, description, createdAt, updatedAt)
AttributeValue(id, attributeId, value, label, description, colorCode, imageUrl, priceAdjustment, position, isActive, createdAt, updatedAt)
ProductVariant(id, productId, sku, attributes, price, stock, thumbnail, galleryImages, isActive, createdAt, updatedAt)
Order(id, userId, amount, currency, status, deliveryStatus, paymentIntentId, phoneNumber, address, paymentMethod, shippingFee, voucherId, voucherCode, discountAmount, originalAmount, cancelReason, cancelDate, note, orderNote, salesStaff, exchangeInfo, returnStatus, returnedAmount, createdAt, updatedAt)
Voucher(id, code, description, image, discountType, discountValue, minOrderValue, quantity, usedCount, maxUsagePerUser, startDate, endDate, isActive, voucherType, targetUserIds, createdAt, updatedAt)
UserVoucher(id, userId, voucherId, usedAt, createdAt, orderId, reservedForOrderId, reservedAt)
Promotion(id, title, description, discountType, discountValue, maxDiscount, startDate, endDate, isActive, applyToAll, productIds, categoryIds, createdAt, updatedAt)
ProductPromotion(id, productId, promotionId, promotionalPrice, startDate, endDate, isActive, priority, createdAt, updatedAt)
ChatRoom(id, userIds, messageIds, createdAt, lastMessageAt, name)
Message(id, chatroomId, senderId, body, image, createdAt, seenIds)
Article(id, userId, title, image, content, viewCount, createdAt, updatedAt, categoryId)
ArticleCategory(id, name, slug, description, icon, isActive, createdAt, updatedAt)
Review(id, userId, productId, rating, comment, reply, createdDate, updatedAt)
ArticleReview(id, userId, articleId, rating, comment, parentId, createdDate, updatedAt)
Notification(id, userId, productId, orderId, messageId, fromUserId, type, title, message, data, isRead, createdAt, updatedAt)
AnalyticsEvent(id, userId, sessionId, eventType, entityType, entityId, metadata, userAgent, ipAddress, referrer, path, timestamp, updatedAt)
Banner(id, name, description, image, imageResponsive, startDate, endDate, status, createdAt, updatedAt)
AdminSettings(id, discordNotifications, orderNotifications, pushNotifications, analyticsTracking, sessionTimeout, lowStockAlerts, chatbotSupport, autoVoucherSuggestion, dailyReports, reportInterval, codPayment, momoPayment, stripePayment, autoEmailMarketing, emailMarketingSchedule, emailMarketingTime, shopAddress, shopProvince, shopDistrict, shopWard, freeShippingThreshold, baseShippingFee, shippingPerKm, sameDistrictFee, sameProvinceFee, sameRegionFee, crossRegionFee, returnShippingPolicy, createdBy, updatedBy, createdAt, updatedAt)
AuditLog(id, eventType, category, severity, userId, userEmail, userRole, ipAddress, userAgent, description, details, metadata, resourceId, resourceType, oldValue, newValue, timestamp, createdAt)
EmailCampaign(id, campaignType, campaignTitle, campaignDescription, productId, voucherIds, targetSegments, recipientCount, targetUserIds, sentAt, clickCount, openCount, conversionCount, status, sentBy, deviceStats, timeStats)
ReturnRequest(id, orderId, userId, type, status, items, reason, description, images, refundAmount, additionalCost, shippingBreakdown, exchangeToProductId, exchangeToVariantId, exchangeOrderId, adminNotes, approvedBy, approvedAt, createdAt, updatedAt)
ReportLog(id, type, interval, success, sentAt, error, createdAt)
